{% extends "base.html" %}
{% block title %}Trang Ch·ªß - JobNest{% endblock %}

{% block content %}
<!-- HERO -->
<section class="bg-light py-5">
  <div class="container text-center">
    <h1 class="mb-3">T√¨m vi·ªác ph√π h·ª£p - Nhanh ch√≥ng & Uy t√≠n</h1>
    <p class="text-muted">T√¨m ki·∫øm theo v·ªã tr√≠, m·ª©c l∆∞∆°ng v√† ƒë·ªãa ƒëi·ªÉm. H√†ng ng√†n c∆° h·ªôi t·ª´ nh√† tuy·ªÉn d·ª•ng uy t√≠n.</p>


  </div>
</section>

<!-- JOB LIST -->
<section class="container my-5">
  <h2>C√¥ng vi·ªác n·ªïi b·∫≠t</h2>
<div class="job-grid">
  {% for job in hot_jobs %}
    <article class="job-card featured" aria-labelledby="title-{{ job.id }}">
      <div class="logo">üè¢</div>
      <div class="job-info">
        <h3>
          <a href="{{ url_for('job_detail', id=job.id) }}" id="title-{{ job.id }}">
            {{ job.title }}
          </a>
        </h3>



        <div class="d-flex gap-2 mt-2">
          <a href="{{ url_for('save_job', job_id=job.id) }}"
             class="btn btn-sm btn-outline-primary">L∆∞u Tin</a>
          <a href="{{ url_for('apply_job', job_id=job.id) }}"
             class="btn btn-sm btn-success">·ª®ng Tuy·ªÉn Ngay</a>
        </div>
      </div>
    </article>
  {% else %}
    <p>Kh√¥ng c√≥ c√¥ng vi·ªác n·ªïi b·∫≠t ph√π h·ª£p.</p>
  {% endfor %}
</div>


  <!-- Other Jobs -->
  <h3 class="mt-5">C√°c c√¥ng vi·ªác kh√°c</h3>
  <div class="row g-3">
    {% for job in other_jobs %}
    <div class="col-md-3">
      <div class="card h-100">
        <div class="card-body">
          <h6 class="card-title">{{ job.title }}</h6>
          <p class="text-muted small">{{ job.company }} ¬∑ {{ job.location }}</p>
          <p class="small">{{ job.salary | fmt_salary }} ¬∑ {{ job.job_type or '-' }}</p>
          <a href="{{ url_for('job_detail', id=job.id) }}" class="stretched-link">Xem chi ti·∫øt</a>
        </div>
      </div>
    </div>
    {% else %}
      <p>Kh√¥ng c√≥ c√¥ng vi·ªác n√†o.</p>
    {% endfor %}
  </div>

  <!-- Pagination -->
  {% if total_pages > 1 %}
  <nav class="mt-4" aria-label="Pagination">
    <ul class="pagination justify-content-center">
      {% if page > 1 %}
      <li class="page-item">
        <a class="page-link" href="{{ url_for('main.index', page=page-1, **search) }}">Tr∆∞·ªõc</a>
      </li>
      {% endif %}
      {% for p in range(1, total_pages + 1) %}
      <li class="page-item {% if p == page %}active{% endif %}">
        <a class="page-link" href="{{ url_for('main.index', page=p, **search) }}">{{ p }}</a>
      </li>
      {% endfor %}
      {% if page < total_pages %}
      <li class="page-item">
        <a class="page-link" href="{{ url_for('main.index', page=page+1, **search) }}">Sau</a>
      </li>
      {% endif %}
    </ul>
  </nav>
  {% endif %}
</section>
{% endblock %}